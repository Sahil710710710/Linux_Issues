## 1. **Configure DNS **

### Step 1: Install DNS server package

dnf install bind bind-utils -y

### Step 2: Start and enable DNS server

systemctl start named
systemctl enable named
systemctl status named

### Step 3: Edit the conf file
Edit the `/etc/named.conf` file.

vi /etc/named.conf
options {
        listen-on port 53 { 192.168.xxx.xxx; 127.0.0.1; };    --------- >>> (EDIT)
        #listen-on-v6 port 53 { ::1; };
        directory       "/var/named";
        dump-file       "/var/named/data/cache_dump.db";
        statistics-file "/var/named/data/named_stats.txt";
        memstatistics-file "/var/named/data/named_mem_stats.txt";
        secroots-file   "/var/named/data/named.secroots";
        recursing-file  "/var/named/data/named.recursing";
        allow-query     { any; 192.168.xxx.0/24; };   --------- >>> (EDIT)
// Forward zone
zone "dnstest.local" IN {
     type master;
     file "dnstest.local.forward";
     allow-update { none; };
     allow-query { any; 192.168.xxx.0/24; };
};
// Reverse zone
zone "xxx.168.192.in-addr.arpa" IN {
     type master;
     file "dnstest.local.backward";
     allow-update { none; };
     allow-query { any; 192.168.xxx.0/24; };
};

Create and Edit the below file.
touch then vi dnstest.local.forward

$TTL 86400
@ IN SOA dns-process.dnstest.local. root.dnstest.local. (
    2024062701 ; Serial
    3600       ; Refresh
    1800       ; Retry
    604800     ; Expire
    86400      ; Minimum TTL
)

; Name Server Information
@ IN NS dns-process.dnstest.local.

; A Records for hosts
dns-process.dnstest.local. IN A 192.168.xxx.xxx
rhelclient.local.         IN A 192.168.xxx.xx
mail.dnstest.local.        IN A 192.168.xxx.xx (put if required)

Create and Edit the below file.
touch then vi dnstest.local.backward

$TTL 86400
@ IN SOA dns-process.dnstest.local. admin.dnstest.local. (
    2024062701 ; Serial
    3600       ; Refresh
    1800       ; Retry
    604800     ; Expire
    86400      ; Minimum TTL
)

; Name Server Information
@ IN NS dns-process.dnstest.local.

; PTR Records for reverse lookups
xxx IN PTR dns-process.dnstest.local.
xx  IN PTR rhelclient.local.
8xx0  IN PTR mail.dnstest.local. (put if required)

### Step 4: Change the permission of above files.
chown named:named /var/named/dnstest.local.forward
chown named:named /var/named/dnstest.local.backward

### Step 5: Check for wrong entries.
Ensure that the entries on all files are correct.

--- > named-checkconf
--- > named-checkzone dnstest.local /var/named/dnstest.local.forward
--- > named-checkzone 213.168.192.in-addr.arpa /var/named/dnstest.local.backward

### Step 6: Configure firewall.

--- > firewall-cmd --permanent –zone=public –add-service=dns
--- > firewall-cmd –reload

### Step 7: Go to Client Side and do entry on /etc/resolv.conf.

#Generated by NetworkManager
search rhelclient.local
nameserver 192.168.xxx.xxx

### Step 8: Testing from both sides.

nslookup 192.168.xxx.xxx
nslookup dns-process.dnstest.local

---xxx---
